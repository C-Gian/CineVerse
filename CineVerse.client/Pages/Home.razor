@page "/"
@using CineVerse.client.Components;
@using CineVerse.client.Models;

<div class="home-container">
	@{
		if (NowPlayingMovies.Any())
		{
			<Carousel TItem="Movie" Items="NowPlayingMovies" VisibleCount="5" AutoplayMs="5000" SectionName="On Air" CardWidth="300" Margin="80">
				<SlideTemplate Context="movie">
					<div style="width: 300px; height: 100%;">
						<MovieCard Movie="movie" />
					</div>
				</SlideTemplate>
			</Carousel>
		}
		else
		{
			<MudProgressCircular Size="Size.Large" Class="m-6" />
		}
	}

	@{
		if (UpcomingMovies.Any())
		{
			<div>
				<SectionTitle SectionName="Upcoming Movies" IsLink="true" Link="/movies/list" />
				<SplitSlider Movies="UpcomingMovies" MaxVisible="7" AutoplayMs="5000" />
			</div>
		}
		else
		{
			<MudProgressCircular Size="Size.Large" Class="m-6" />
		}
	}

	@{
		if (AppState.Genres.Any())
		{
			<div>
				<SectionTitle SectionName="Genres" IsLink="false" />
				<GenreGrid Movies="PopularMovies" />
			</div>
		}
		else
		{
			<MudProgressCircular Size="Size.Large" Class="m-6" />
		}
	}

	@{
		if (PopularMovies.Any())
		{
			<Carousel TItem="Movie" Items="PopularMovies" VisibleCount="7" AutoplayMs="5000" SectionName="Popular" CardWidth="200" Margin="100">
				<SlideTemplate Context="movie">
					<div style="width: 200px; height: 100%;">
						<MovieCard Movie="movie" />
					</div>
				</SlideTemplate>
			</Carousel>
		}
		else
		{
			<MudProgressCircular Size="Size.Large" Class="m-6" />
		}
	}
</div>

<style>
	.home-container {
		display: flex;
		flex-direction: column;
		gap: 100px;
		margin: 50px;
	}
</style>